(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-user"],{"5dec":function(t,i,e){var n=e("a896");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=e("4f06").default;o("f6fca158",n,!0,{sourceMap:!1,shadowMode:!1})},"61bc":function(t,i,e){"use strict";(function(t,n){var o=e("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=o(e("5530")),c=e("2f62"),s=e("95b1"),r={data:function(){return{avatarUrl:"../../static/img/logo.png",inviteUrl:"",logoutBtnLoading:!1,hasPwd:uni.getStorageSync("uni_id_has_pwd")}},computed:(0,a.default)({},(0,c.mapState)(["hasLogin","forcedLogin","userName"])),methods:(0,a.default)((0,a.default)({},(0,c.mapMutations)(["logout"])),{},{bindLogin:function(){this.hasLogin||(0,s.univerifyLogin)().catch((function(t){!1!==t&&uni.navigateTo({url:"../login/login"})}))},bindLogout:function(){var i=this,e=uni.getStorageSync("login_type");if("local"===e)return this.logout(),void(this.forcedLogin&&uni.reLaunch({url:"../login/login"}));this.logoutBtnLoading=!0,t.callFunction({name:"user-center",data:{action:"logout"},success:function(t){n("log","logout success",t," at pages/user/user.vue:110"),0==t.result.code?(i.logout(),uni.removeStorageSync("uni_id_token"),uni.removeStorageSync("username"),uni.removeStorageSync("uni_id_has_pwd"),i.inviteUrl="",i.forcedLogin&&uni.reLaunch({url:"../login/login"})):(uni.showModal({content:t.result.msg,showCancel:!1}),n("log","登出失败",t," at pages/user/user.vue:131"))},fail:function(t){uni.showModal({content:JSON.stringify(t),showCancel:!1})},complete:function(){i.logoutBtnLoading=!1}})},toInvite:function(){uni.navigateTo({url:"/pages/invite/invite"})},goto:function(){uni.navigateTo({url:"../pwd/update-password"})}})};i.default=r}).call(this,e("a9ff")["default"],e("0de9")["log"])},"95b1":function(t,i,e){"use strict";(function(t,n){var o=e("4ea4");e("99af"),e("c975"),e("d3b7"),Object.defineProperty(i,"__esModule",{value:!0}),i.univerifyLogin=c,i.univerifyErrorHandler=s;var a=o(e("2a96"));function c(){var i=a.default.commit,e="univerify";return new Promise((function(o,a){uni.getProvider({service:"oauth",success:function(c){-1!==c.provider.indexOf(e)?uni.login({provider:e,success:function(e){uni.closeAuthView(),uni.showLoading(),t.callFunction({name:"user-center",data:{action:"loginByUniverify",params:e.authResult},success:function(t){if(n("log","login success",t," at common/univerify.js:30"),0==t.result.code){var e=t.result.username||t.result.mobile||"一键登录新用户";uni.setStorageSync("uni_id_token",t.result.token),uni.setStorageSync("username",e),uni.setStorageSync("login_type","online"),i("login",e),o(),uni.switchTab({url:"../main/main"})}else uni.showModal({title:"登录失败: ".concat(t.result.code),content:t.result.message,showCancel:!1}),n("log","登录失败",t," at common/univerify.js:51"),t.result.errMsg=t.result.message},fail:function(t){uni.showModal({title:"登录失败",content:t.errMsg,showCancel:!1})},complete:function(){uni.hideLoading()}})},fail:function(t){return n("error","授权登录失败："+JSON.stringify(t)," at common/univerify.js:69"),30002==t.code?(uni.closeAuthView(),void a(!0)):30003==t.code?(uni.closeAuthView(),void a(!1)):void a(t)}}):a()},fail:function(t){n("error","获取服务供应商失败："+t.errMsg," at common/univerify.js:93"),a(t)}})}))}function s(t,i){if(t){a.default.state;var e={};switch(!0){case 1e3==t.code:uni.showModal(Object.assign({title:"登录失败",content:"".concat(t.errMsg,"，错误码：").concat(t.code,"\n开通指南：https://ask.dcloud.net.cn/article/37965")},e));break;case 30005==t.code:uni.showModal(Object.assign({showCancel:!1,title:"预登录失败",content:"".concat(t.errMsg,"，错误码：").concat(t.code)},e));break;case 30003!=t.code:uni.showModal(Object.assign({showCancel:!1,title:"登录失败",content:"".concat(t.errMsg,"，错误码：").concat(t.code)},e));break}}else i&&i()}}).call(this,e("a9ff")["default"],e("0de9")["log"])},a896:function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,'@font-face{font-family:texticons;font-weight:400;font-style:normal;src:url(https://at.alicdn.com/t/font_984210_5cs13ndgqsn.ttf) format("truetype")}uni-page-body[data-v-f4fbcac0],\nuni-view[data-v-f4fbcac0]{display:-webkit-box;display:-webkit-flex;display:flex}uni-page-body[data-v-f4fbcac0]{background-color:#f8f8f8}uni-button[data-v-f4fbcac0]{width:100%}.center[data-v-f4fbcac0]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.logo[data-v-f4fbcac0]{width:%?750?%;height:%?240?%;padding:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#0faeff;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.logo-hover[data-v-f4fbcac0]{opacity:.8}.logo-img[data-v-f4fbcac0]{width:%?120?%;height:%?120?%;-webkit-border-radius:%?150?%;border-radius:%?150?%}.logo-title[data-v-f4fbcac0]{height:%?150?%;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;margin-left:%?20?%}.uer-name[data-v-f4fbcac0]{height:%?60?%;line-height:%?60?%;color:#fff}.go-login.navigat-arrow[data-v-f4fbcac0]{color:#fff}.login-title[data-v-f4fbcac0]{height:%?150?%;-webkit-box-align:self-start;-webkit-align-items:self-start;align-items:self-start;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;margin-left:%?20?%}.center-list[data-v-f4fbcac0]{background-color:#fff;margin-top:%?20?%;width:%?750?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.center-list-item[data-v-f4fbcac0]{height:%?90?%;width:%?750?%;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding:%?0?% %?20?%}.border-bottom[data-v-f4fbcac0]{border-bottom-width:%?1?%;border-color:#c8c7cc;border-bottom-style:solid}.list-icon[data-v-f4fbcac0]{width:%?40?%;height:%?90?%;line-height:%?90?%;color:#0faeff;text-align:center;font-family:texticons;margin-right:%?20?%}.list-text[data-v-f4fbcac0]{height:%?90?%;line-height:%?90?%;color:#555;-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:left}.navigat-arrow[data-v-f4fbcac0]{height:%?90?%;width:%?40?%;line-height:%?90?%;color:#555;text-align:right;font-family:texticons}body.?%PAGE?%[data-v-f4fbcac0]{background-color:#f8f8f8}',""]),t.exports=i},cec8:function(t,i,e){"use strict";e.r(i);var n=e("e063"),o=e("ee33");for(var a in o)"default"!==a&&function(t){e.d(i,t,(function(){return o[t]}))}(a);e("ec2d");var c,s=e("f0c5"),r=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"f4fbcac0",null,!1,n["a"],c);i["default"]=r.exports},e063:function(t,i,e){"use strict";var n;e.d(i,"b",(function(){return o})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){return n}));var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{},[e("v-uni-view",{staticClass:"center"},[e("v-uni-view",{staticClass:"logo",attrs:{"hover-class":t.hasLogin?"":"logo-hover"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.bindLogin.apply(void 0,arguments)}}},[e("v-uni-image",{staticClass:"logo-img",attrs:{src:t.avatarUrl}}),e("v-uni-view",{staticClass:"logo-title"},[e("v-uni-text",{staticClass:"uer-name"},[t._v("Hi，"+t._s(t.hasLogin?t.userName:"您未登录"))]),t.hasLogin?t._e():e("v-uni-text",{staticClass:"go-login navigat-arrow"},[t._v("")])],1)],1),e("v-uni-view",{staticClass:"center-list"},[e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.hasLogin&&t.hasPwd,expression:"hasLogin && hasPwd"}],staticClass:"center-list-item border-bottom",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goto.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"list-icon"},[t._v("")]),e("v-uni-text",{staticClass:"list-text"},[t._v("修改密码")]),e("v-uni-text",{staticClass:"navigat-arrow"},[t._v("")])],1),e("v-uni-view",{staticClass:"center-list-item"},[e("v-uni-text",{staticClass:"list-icon"},[t._v("")]),e("v-uni-text",{staticClass:"list-text"},[t._v("新消息通知")]),e("v-uni-text",{staticClass:"navigat-arrow"},[t._v("")])],1)],1),e("v-uni-view",{staticClass:"center-list"},[e("v-uni-view",{staticClass:"center-list-item border-bottom"},[e("v-uni-text",{staticClass:"list-icon"},[t._v("")]),e("v-uni-text",{staticClass:"list-text"},[t._v("帮助与反馈")]),e("v-uni-text",{staticClass:"navigat-arrow"},[t._v("")])],1),e("v-uni-view",{staticClass:"center-list-item"},[e("v-uni-text",{staticClass:"list-icon"},[t._v("")]),e("v-uni-text",{staticClass:"list-text"},[t._v("服务条款及隐私")]),e("v-uni-text",{staticClass:"navigat-arrow"},[t._v("")])],1)],1),e("v-uni-view",{staticClass:"center-list"},[e("v-uni-view",{staticClass:"center-list-item"},[e("v-uni-text",{staticClass:"list-icon"},[t._v("")]),e("v-uni-text",{staticClass:"list-text"},[t._v("关于应用")]),e("v-uni-text",{staticClass:"navigat-arrow"},[t._v("")])],1)],1),e("v-uni-view",{staticClass:"btn-row"},[t.hasLogin?e("v-uni-button",{staticClass:"primary",attrs:{type:"primary",loading:t.logoutBtnLoading},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.bindLogout.apply(void 0,arguments)}}},[t._v("退出登录")]):t._e()],1)],1)],1)},a=[]},ec2d:function(t,i,e){"use strict";var n=e("5dec"),o=e.n(n);o.a},ee33:function(t,i,e){"use strict";e.r(i);var n=e("61bc"),o=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=o.a}}]);