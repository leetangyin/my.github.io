(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-invite-reg-invite-reg"],{"0027":function(t,e,o){"use strict";var i;o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"content"},[o("v-uni-view",{}),o("v-uni-view",{staticClass:"form-group"},[o("v-uni-view",{staticClass:"form-row"},[o("v-uni-text",{staticClass:"form-label"},[t._v("手机号：")]),o("v-uni-input",{staticClass:"form-input",attrs:{type:"text","auto-focus":"true",placeholder:"请输入手机号码"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),o("v-uni-view",{staticClass:"form-row"},[o("v-uni-text",{staticClass:"form-label"},[t._v("验证码：")]),o("v-uni-input",{staticClass:"form-input",attrs:{type:"form-input",placeholder:"请输入验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),o("v-uni-view",{staticClass:"send-code-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendSmsCode.apply(void 0,arguments)}}},[t._v(t._s(t.codeDuration?t.codeDuration+"s":"发送验证码"))])],1),o("v-uni-view",{staticClass:"form-row"},[o("v-uni-text",{staticClass:"form-label"},[t._v("邀请码：")]),o("v-uni-input",{staticClass:"form-input",attrs:{type:"text",placeholder:"邀请码(选填)"},model:{value:t.inviteCode,callback:function(e){t.inviteCode=e},expression:"inviteCode"}})],1),o("v-uni-view",{staticClass:"form-row"},[o("v-uni-text",{staticClass:"form-label"},[t._v("密码：")]),o("v-uni-input",{staticClass:"form-input",attrs:{type:"password",displayable:!0,placeholder:"请输入密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),o("v-uni-view",{staticClass:"form-row"},[o("v-uni-text",{staticClass:"form-label"},[t._v("确认密码：")]),o("v-uni-input",{staticClass:"form-input",attrs:{type:"password",displayable:!0,placeholder:"请确认密码"},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1),o("v-uni-view",{staticClass:"form-submit"},[o("v-uni-button",{staticClass:"primary",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.register.apply(void 0,arguments)}}},[t._v("注册")])],1)],1),o("v-uni-view",{staticClass:"download-app"},[o("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.download.apply(void 0,arguments)}}},[t._v("已有账号下载APP登录")])],1)],1)},a=[]},"416a":function(t,e,o){"use strict";var i=o("a30e"),n=o.n(i);n.a},"579c":function(t,e,o){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{mobile:"",code:"",password:"",confirmPassword:"",codeDuration:0,inviteCode:""}},onLoad:function(t){this.inviteCode=t.invite_code},methods:{sendSmsCode:function(){var e=this;this.codeDuration&&uni.showModal({content:"请在".concat(this.codeDuration,"秒后重试"),showCancel:!1}),/^1\d{10}$/.test(this.mobile)?(uni.showLoading({title:"请稍等...",mask:!0}),t.callFunction({name:"user-center",data:{action:"sendSmsCode",params:{mobile:this.mobile,type:"register"}},success:function(t){0==t.result.code?(uni.showModal({content:"验证码发送成功，请注意查收",showCancel:!1}),e.codeDuration=60,e.codeInterVal=setInterval((function(){e.codeDuration--,0===e.codeDuration&&e.codeInterVal&&(clearInterval(e.codeInterVal),e.codeInterVal=null)}),1e3)):uni.showModal({content:"验证码发送失败："+t.result.msg,showCancel:!1})},fail:function(t){uni.showModal({content:"验证码发送失败",showCancel:!1})},complete:function(){uni.hideLoading()}})):uni.showModal({content:"手机号码填写错误",showCancel:!1})},register:function(){var e=this;/^1\d{10}$/.test(this.mobile)?this.password.length<6?uni.showToast({icon:"none",title:"密码最短为 6 个字符"}):this.password===this.confirmPassword?""!==this.code?(uni.showLoading({title:"请稍后..."}),t.callFunction({name:"user-center",data:{action:"inviteLogin",params:{mobile:this.mobile,code:this.code,inviteCode:this.inviteCode,password:this.password}},success:function(t){o("log","注册成功",t," at pages/invite-reg/invite-reg.vue:164"),0===t.result.code?uni.showModal({content:"注册成功，是否立即下载APP登录",success:function(t){t.confirm&&e.download()}}):uni.showModal({content:"注册失败："+t.result.msg,showCancel:!1})},fail:function(t){uni.showModal({content:JSON.stringify(t),showCancel:!1})},complete:function(){uni.hideLoading()}})):uni.showToast({icon:"none",title:"请输入正确的验证码"}):uni.showToast({icon:"none",title:"两次密码输入不一致"}):uni.showModal({content:"手机号码填写错误",showCancel:!1})},download:function(){location.href="https://login.tpl.dcloud.net.cn/package/android-latest.apk"}}};e.default=i}).call(this,o("a9ff")["default"],o("0de9")["log"])},"77ee":function(t,e,o){var i=o("24fb");e=i(!1),e.push([t.i,".content[data-v-7a16f5c3]{padding:20px}.form-row[data-v-7a16f5c3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:left;-webkit-justify-content:left;justify-content:left;height:40px;background-color:#fff;border:solid 1px #ddd;-webkit-border-radius:20px;border-radius:20px;overflow:hidden;margin-bottom:10px}.form-row .form-label[data-v-7a16f5c3]{width:80px;padding-left:15px}.form-row .form-input[data-v-7a16f5c3]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin:0 10px}.send-code-btn[data-v-7a16f5c3]{width:120px;height:40px;line-height:40px;text-align:center;background-color:#0faeff;color:#fff}.form-submit[data-v-7a16f5c3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;margin-bottom:10px}.form-submit uni-button[data-v-7a16f5c3]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:40px;line-height:40px;-webkit-border-radius:40px;border-radius:40px}.download-app[data-v-7a16f5c3]{text-align:center;color:#007aff;text-decoration:underline}",""]),t.exports=e},"83da":function(t,e,o){"use strict";o.r(e);var i=o("0027"),n=o("91a0");for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);o("416a");var s,l=o("f0c5"),r=Object(l["a"])(n["default"],i["b"],i["c"],!1,null,"7a16f5c3",null,!1,i["a"],s);e["default"]=r.exports},"91a0":function(t,e,o){"use strict";o.r(e);var i=o("579c"),n=o.n(i);for(var a in i)"default"!==a&&function(t){o.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},a30e:function(t,e,o){var i=o("77ee");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=o("4f06").default;n("3a381480",i,!0,{sourceMap:!1,shadowMode:!1})}}]);